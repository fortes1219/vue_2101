(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c1a1387"],{b0c0:function(t,e,a){var n=a("83ab"),r=a("5e77").EXISTS,o=a("e330"),i=a("9bf2").f,s=Function.prototype,c=o(s.toString),l=/^\s*function ([^ (]*)/,u=o(l.exec),m="name";n&&!r&&i(s,m,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ddda:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row vertical",attrs:{"data-inset":"1rem"}},[a("div",{staticClass:"row horizontal v_center",attrs:{"data-space-bottom":"1rem"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("新增商品")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.getResponse}},[a("el-table-column",{attrs:{prop:"name",label:"商品名稱"}}),a("el-table-column",{attrs:{prop:"price",label:"售價"}}),a("el-table-column",{attrs:{prop:"count",label:"庫存數量"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"row horizontal v_center"},[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("編輯")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleDel(e.row.id)}}},[t._v("刪除")])],1)]}}])})],1),a("el-dialog",{attrs:{title:"提示",visible:t.showDialog,width:"40%"},on:{"update:visible":function(e){t.showDialog=e},close:t.handleClose}},[a("el-form",{ref:"productForm",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID:"}},[a("el-input",{attrs:{placeholder:"請輸入ID"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id","string"===typeof e?e.trim():e)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"商品名稱:"}},[a("el-input",{attrs:{placeholder:"請輸入商品名稱"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name","string"===typeof e?e.trim():e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"售價:"}},[a("el-input",{attrs:{placeholder:"請輸入售價"},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price","string"===typeof e?e.trim():e)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"庫存數量:"}},[a("el-input",{attrs:{placeholder:"請輸入庫存數量"},model:{value:t.formData.count,callback:function(e){t.$set(t.formData,"count","string"===typeof e?e.trim():e)},expression:"formData.count"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit(t.getSubmitStatus)}}},[t._v("送出")])],1)],1)],1)},r=[],o=a("1da1"),i=a("5530"),s=(a("b0c0"),a("d81d"),a("b64b"),a("96cf"),a("2f62")),c={name:"restful_api",data:function(){return{tableData:[],showDialog:!1,formData:{id:"",name:"",price:"",count:"",img:""},submitStatus:""}},computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])(["getResponse"])),{},{getSubmitStatus:function(){var t=!1,e={add:function(){t=!0},edit:function(){t=!1}};return e[this.submitStatus](),t}}),methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])(["GET_API","POST_API","PUT_API","DELETE_API"])),{},{callApi:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.GET_API();case 1:case"end":return e.stop()}}),e)})))()},addProduct:function(){this.showDialog=!0,this.submitStatus="add"},postData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.POST_API(t.formData);case 3:t.$message({type:"success",message:"新增成功!"}),t.showDialog=!1,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$message({type:"error",message:"發生錯誤"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleSubmit:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.postData():this.editData()},handleEdit:function(t){this.formData.id=t.id,this.formData.name=t.name,this.formData.price=t.price,this.formData.count=t.count,this.showDialog=!0,this.submitStatus="edit"},editData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.PUT_API(t.formData);case 3:t.$message({type:"success",message:"更新成功!"}),t.showDialog=!1,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$message({type:"error",message:"更新失敗!"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteData:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.DELETE_API(t);case 2:e.callApi();case 3:case"end":return a.stop()}}),a)})))()},handleDel:function(t){var e=this;this.$confirm("將會刪除商品資訊，是否繼續？","提示訊息",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteData(t),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleClose:function(){var t=this;Object.keys(this.formData).map((function(e){t.formData[e]=""})),console.log("##on close: ",this.formData)}}),created:function(){this.callApi()},mounted:function(){}},l=c,u=a("2877"),m=Object(u["a"])(l,n,r,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-0c1a1387.86388780.js.map