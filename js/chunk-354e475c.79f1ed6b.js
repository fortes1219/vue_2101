(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-354e475c"],{"00b4":function(t,e,a){"use strict";a("ac1f");var r=a("23e7"),n=a("da84"),o=a("c65b"),i=a("e330"),c=a("1626"),s=a("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=n.Error,f=i(/./.test);r({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!c(e))return f(this,t);var a=o(e,this,t);if(null!==a&&!s(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"0616":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row vertical",attrs:{"data-inset":"1rem"}},[a("div",{staticClass:"row horizontal v_center",attrs:{"data-space-bottom":"1rem"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("新增商品")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"商品名稱"}}),a("el-table-column",{attrs:{prop:"price",label:"售價"}}),a("el-table-column",{attrs:{prop:"count",label:"庫存數量"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"row horizontal v_center"},[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("編輯")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.handleDel(e.row.id)}}},[t._v("刪除")])],1)]}}])})],1),a("el-dialog",{attrs:{title:"提示",visible:t.showDialog,width:"40%"},on:{"update:visible":function(e){t.showDialog=e},close:t.handleClose}},[a("el-form",{ref:"productForm",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"ID:"}},[a("el-input",{attrs:{placeholder:"請輸入ID"},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id","string"===typeof e?e.trim():e)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"商品名稱:"}},[a("el-input",{attrs:{placeholder:"請輸入商品名稱"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name","string"===typeof e?e.trim():e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"售價:"}},[a("el-input",{attrs:{placeholder:"請輸入售價"},model:{value:t.formData.price,callback:function(e){t.$set(t.formData,"price","string"===typeof e?e.trim():e)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"庫存數量:"}},[a("el-input",{attrs:{placeholder:"請輸入庫存數量"},model:{value:t.formData.count,callback:function(e){t.$set(t.formData,"count","string"===typeof e?e.trim():e)},expression:"formData.count"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit(t.getSubmitStatus)}}},[t._v("送出")])],1)],1)],1)},n=[],o=a("2909"),i=a("1da1"),c=(a("b0c0"),a("d81d"),a("b64b"),a("96cf"),{name:"restful_api",data:function(){return{tableData:[],showDialog:!1,formData:{id:"",name:"",price:"",count:"",img:""},submitStatus:""}},computed:{getSubmitStatus:function(){var t=!1,e={add:function(){t=!0},edit:function(){t=!1}};return e[this.submitStatus](),t}},methods:{addProduct:function(){this.showDialog=!0,this.submitStatus="add"},callApi:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="http://localhost:3000/tableApi",e.next=3,t.$api.get(a);case 3:r=e.sent,t.tableData=Object(o["a"])(r),console.log(r,t.tableData);case 6:case"end":return e.stop()}}),e)})))()},handleSubmit:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.postData():this.editData()},postData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="http://localhost:3000/tableApi",e.prev=1,e.next=4,t.$api.post(a,t.formData);case 4:t.showDialog=!1,t.$message({type:"success",message:"新增成功!"}),t.callApi(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),t.$message({type:"error",message:"發生錯誤"}),console.log("###API POST Error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleEdit:function(t){this.formData.id=t.id,this.formData.name=t.name,this.formData.price=t.price,this.formData.count=t.count,this.showDialog=!0,this.submitStatus="edit"},editData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="http://localhost:3000/tableApi/".concat(t.formData.id),e.next=3,t.$api.put(a,t.formData);case 3:t.$message({type:"success",message:"更新成功!"}),t.showDialog=!1,t.callApi();case 6:case"end":return e.stop()}}),e)})))()},deleteData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r="http://localhost:3000/tableApi/".concat(t),a.next=3,e.$api.delete(r);case 3:e.callApi();case 4:case"end":return a.stop()}}),a)})))()},handleDel:function(t){var e=this;this.$confirm("將會刪除商品資訊，是否繼續？","提示訊息",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteData(t),e.$message({type:"success",message:"删除成功!"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleClose:function(){var t=this;Object.keys(this.formData).map((function(e){t.formData[e]=""})),console.log("##on close: ",this.formData)}},created:function(){this.callApi()},mounted:function(){}}),s=c,l=a("2877"),u=Object(l["a"])(s,r,n,!1,null,null,null);e["default"]=u.exports},2909:function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t){if(Array.isArray(t))return r(t)}a.d(e,"a",(function(){return s}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}a("fb6a"),a("b0c0"),a("ac1f"),a("00b4");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return n(t)||o(t)||i(t)||c()}},"4df4":function(t,e,a){"use strict";var r=a("da84"),n=a("0366"),o=a("c65b"),i=a("7b0b"),c=a("9bdd"),s=a("e95a"),l=a("68ee"),u=a("07fa"),f=a("8418"),d=a("9a1f"),p=a("35a1"),m=r.Array;t.exports=function(t){var e=i(t),a=l(this),r=arguments.length,h=r>1?arguments[1]:void 0,b=void 0!==h;b&&(h=n(h,r>2?arguments[2]:void 0));var v,g,y,w,D,x,S=p(e),A=0;if(!S||this==m&&s(S))for(v=u(e),g=a?new this(v):m(v);v>A;A++)x=b?h(e[A],A):e[A],f(g,A,x);else for(w=d(e,S),D=w.next,g=a?new this:[];!(y=o(D,w)).done;A++)x=b?c(w,h,[y.value,A],!0):y.value,f(g,A,x);return g.length=A,g}},"9bdd":function(t,e,a){var r=a("825a"),n=a("2a62");t.exports=function(t,e,a,o){try{return o?e(r(a)[0],a[1]):e(a)}catch(i){n(t,"throw",i)}}},a630:function(t,e,a){var r=a("23e7"),n=a("4df4"),o=a("1c7e"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:n})},b0c0:function(t,e,a){var r=a("83ab"),n=a("5e77").EXISTS,o=a("e330"),i=a("9bf2").f,c=Function.prototype,s=o(c.toString),l=/^\s*function ([^ (]*)/,u=o(l.exec),f="name";r&&!n&&i(c,f,{configurable:!0,get:function(){try{return u(l,s(this))[1]}catch(t){return""}}})},d28b:function(t,e,a){var r=a("746f");r("iterator")},d81d:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").map,o=a("1dde"),i=o("map");r({target:"Array",proto:!0,forced:!i},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,a){"use strict";var r=a("23e7"),n=a("83ab"),o=a("da84"),i=a("e330"),c=a("1a2d"),s=a("1626"),l=a("3a9b"),u=a("577e"),f=a("9bf2").f,d=a("e893"),p=o.Symbol,m=p&&p.prototype;if(n&&s(p)&&(!("description"in m)||void 0!==p().description)){var h={},b=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(m,this)?new p(t):void 0===t?p():p(t);return""===t&&(h[e]=!0),e};d(b,p),b.prototype=m,m.constructor=b;var v="Symbol(test)"==String(p("test")),g=i(m.toString),y=i(m.valueOf),w=/^Symbol\((.*)\)[^)]+$/,D=i("".replace),x=i("".slice);f(m,"description",{configurable:!0,get:function(){var t=y(this),e=g(t);if(c(h,t))return"";var a=v?x(e,7,-1):D(e,w,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:b})}},fb6a:function(t,e,a){"use strict";var r=a("23e7"),n=a("da84"),o=a("e8b5"),i=a("68ee"),c=a("861d"),s=a("23cb"),l=a("07fa"),u=a("fc6a"),f=a("8418"),d=a("b622"),p=a("1dde"),m=a("f36a"),h=p("slice"),b=d("species"),v=n.Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var a,r,n,d=u(this),p=l(d),h=s(t,p),y=s(void 0===e?p:e,p);if(o(d)&&(a=d.constructor,i(a)&&(a===v||o(a.prototype))?a=void 0:c(a)&&(a=a[b],null===a&&(a=void 0)),a===v||void 0===a))return m(d,h,y);for(r=new(void 0===a?v:a)(g(y-h,0)),n=0;h<y;h++,n++)h in d&&f(r,n,d[h]);return r.length=n,r}})}}]);
//# sourceMappingURL=chunk-354e475c.79f1ed6b.js.map